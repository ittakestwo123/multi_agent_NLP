#!/bin/bash

# å¤šæ™ºèƒ½ä½“å­¦æœ¯å†™ä½œä¼˜åŒ–ç³»ç»Ÿ - Webç•Œé¢å¿«é€Ÿå¯åŠ¨è„šæœ¬ (Linux/macOS)

echo "
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    å¤šæ™ºèƒ½ä½“å­¦æœ¯å†™ä½œä¼˜åŒ–ç³»ç»Ÿ                                  â•‘
â•‘                           Webç•Œé¢å¿«é€Ÿå¯åŠ¨                                    â•‘  
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"

echo "ğŸ” æ£€æŸ¥Pythonç¯å¢ƒ..."
if ! command -v python3 &> /dev/null; then
    echo "âŒ æœªæ‰¾åˆ°Python3ç¯å¢ƒï¼Œè¯·å…ˆå®‰è£…Python 3.8+"
    exit 1
fi

echo "âœ… Pythonç¯å¢ƒæ£€æŸ¥é€šè¿‡"
echo ""

echo "ğŸ“¦ æ£€æŸ¥ä¾èµ–åŒ…..."
if ! python3 -c "import flask" &> /dev/null; then
    echo "âš ï¸  æœªå‘ç°Flaskï¼Œæ­£åœ¨å®‰è£…Webä¾èµ–..."
    cd web_interface
    pip3 install -r requirements_web.txt
    if [ $? -ne 0 ]; then
        echo "âŒ ä¾èµ–å®‰è£…å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨è¿è¡Œ: pip3 install -r web_interface/requirements_web.txt"
        exit 1
    fi
    cd ..
fi

echo "âœ… ä¾èµ–æ£€æŸ¥å®Œæˆ"
echo ""

echo "ğŸš€ å¯åŠ¨WebæœåŠ¡å™¨..."
echo "ğŸ’¡ è®¿é—®åœ°å€: http://localhost:5000"
echo "ğŸ’¡ æŒ‰ Ctrl+C å¯åœæ­¢æœåŠ¡"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

cd web_interface
python3 start_web.py